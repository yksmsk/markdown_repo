# 仮想化技術について

色々あるけど何がどう違うのか分かんない。

| VirtualBox                               | Vagrant                                  | Docker                                   |
| ---------------------------------------- | ---------------------------------------- | ---------------------------------------- |
| <img src="http://www.lanches.co.jp/wp-content/uploads/2015/02/virtualbox-logo1.png" width="150px"> | <img src="https://upload.wikimedia.org/wikipedia/commons/8/87/Vagrant.png" width="100px"> | <img src="https://www.skyarch.net/blog/wp-content/uploads/2016/06/docker.png" width="150px"> |


各々何ができて何ができないの？強みは？
そんなことをつらつらとまとめていく。

## 仮想化とは 

wiki) : 仮想化とは、コンピュータのリソースを抽象化することである。「リソースの物理的特性を、そのリソースと相互作用するシステム/アプリケーション/エンドユーザーから隠蔽する技法。
簡単にまとめると、1台のPCの中で、複数のOSを稼働させる仕組み・技術。


## 仮想技術の型

そもそも型という概念があったこと自体初耳です。

* ホスト型
* ハイパーバイザー型
* コンテナ型

いまいちピンと来ません。。。

vagrantはホスト型で、dockerはコンテナ型、らしいですよ。

各型について簡単な説明
### ホスト型

土台となるホストOS上にソフトウェアを介して仮想マシンを起動する方式。

- VMware player
- Virtual Box
- vagrant


### ハイパーバイザー型

ハイパーバイザー専用のOSをインストールしたマシン上で仮想マシンを起動させる方式。

* VMware ESX(ESXi)

### コンテナ型

ホストOSの上にコンテナと呼ばれる専用領域を作成して必要なアプリケーションのみを動作させる方式。

* docker





**割と新しめな技術であるvagrantとdockerを掘り下げてみる**

##  vagrant

Vagrantfileを用意しておくと、記述してある通りにVirtual BoxやVMwareの設定をして起動してくれる。  
OSのイメージもvagrant側で用意されているものを使用できる。  
起動させたい設定をあらかじめ設定ファイルに書いてvagrantに渡すと、その通りにセッティングした状態で起動してくれる代行屋さん。

## docker

自前で仮想環境を作成し実行することも可能だが、Google Container Engineと連携させられる強みがある。

## アプリGrとしての取組み

 vagrantやdockerの開発現場で想定される使用方法としては以下が挙げられる

* 開発やテストで使用するサーバ環境をvagrantで共有
* システムに必要なミドルウェア(設定含む)をdockerで共有
* ​



### メリット

* 人員増加時に環境をすぐに提供できる
* 環境の再構築が容易
* 各人で設定の差分がなくなるので開発がしやすい
* 設定ファイルをgitやSVNで一元管理するとより良いものが出来上がる
* 開発用のマシンにミドルウェアを入れなくても良い




### デメリット

* ネットワークに接続できないと環境が作れない
* フルスクラッチの場合でしか使えない
  * 途中から切り替えるのはしんどい
* 現場で踏襲されてるルールがあると使いヅラい


自社での作業だったり、個人での開発を行う際は充分に検討の余地があると思う。
現場でも、提案してみる価値はある。

その現場で使うことのメリット・デメリットをきちんと説明した上で、提案できれば評価にも繋がるかなと思う。何事も選べるってことが肝要かなと。